---
- name: Deploy Ollama

  hosts: ollama

  vars:

    # SearXNG facts
    searxng_image: searxng/searxng:2025.9.5-e7501ea  # renovate: datasource=docker depName=searxng/searxng
    searxng_service_name: searxng
    searxng_service_port: 8080
    searxng_volume_name: searxng

  tasks:

    - name: Load homelab vars
      ansible.builtin.include_vars:
        file: vars/homelab_env.yaml

    - name: Deploy a containerised instance of SearXNG
      ansible.builtin.include_tasks:
        file: tasks/deploy-searxng.yaml
